# # load global profile
# . /etc/profile

# # xdg yash loadpath
# export YASH_LOADPATH="$XDG_CONFIG_HOME/yash:$YASH_LOADPATH"

# # xdg support shit {{{
# export INPUTRC="$XDG_CONFIG_HOME/inputrc"
# export XINITRC="$XDG_CONFIG_HOME/X11/xinitrc"
# export XSERVERRC="$XDG_CONFIG_HOME/X11/xserverrc"
# export XAUTHORITY="$XDG_RUNTIME_DIR/Xauthority"
# export GRADLE_USER_HOME="$XDG_DATA_HOME/gradle"
# export VIMINIT="set nocp | source $XDG_CONFIG_HOME/vim/vimrc"
# export WINEPREFIX="$XDG_DATA_HOME/wine"
# export PASSAGE_DIR="$XDG_DATA_HOME/passage/store"
# export PASSAGE_IDENTITIES_FILE="$XDG_DATA_HOME/passage/identities"
# export PENTADACTYL_INIT="source $XDG_CONFIG_HOME/pentadactyl/pentadactylrc"
# export PENTADACTYL_RUINTIME="$XDG_CONFIG_HOME/pentadactyl"
# export GNUPGHOME="$XDG_DATA_HOME/gnupg"
# export SRB2WADDIR="$XDG_DATA_HOME/srb2kart/wads"
# export PYTHONSTARTUP="$XDG_CONFIG_HOME/python/pythonstartup.py"
# export GOPATH="$XDG_DATA_HOME/go"
# export GOMODCACHE="$XDG_CACHE_HOME/go/mod"
# export SQLITE_HISTORY="$XDG_RUNTIME_DIR/sqlite_history"
# export PSQL_HISTORY="$XDG_RUNTIME_DIR/psql_history"
# export RXVT_SOCKET="$XDG_RUNTIME_DIR/urxvt-$(uname -n)"
# # }}}

# # other config {{{
# export PATH="$HOME/.local/bin:$HOME/.local/scripts:$PATH"
# export MANPATH="$XDG_DATA_HOME/man:"
# export EDITOR="vim"
# export VISUAL="vim"
# export TERMINAL="urxvtc"
# export FLOATING_TERMINAL="urxvtc -name FLOATING_TERMINAL"
# export QT_STYLE_OVERRIDE=kvantum
# # }}}

# # program options {{{

# # misc {{{
# export JAVA_HOME="/usr/lib/jvm/openjdk17"
# export LESS='-Ri'
# # }}}

# # fzf {{{
# export FZF_DEFAULT_COMMAND='bfs -nohidden -type f -printf "%P\n"'
# export FZF_DEFAULT_OPTS='
# --color "fg:7,bg:-1,hl:12,fg+:11,bg+:0,hl+:13,info:9,border:0,prompt:4,pointer:10,marker:2,spinner:13,header:7"
# --border -e
# --bind ctrl-space:print-query+abort
# '
# # }}}

# # nnn {{{
# export NNN_OPTS="aAeQ"
# export NNN_ARCHIVE="\\.(7z|a|ace|alz|arc|arj|bz|bz2|cab|cpio|deb|gz|jar|lha|lz|lzh|lzma|lzo|rar|rpm|rz|t7z|tar|tbz|tbz2|tgz|tlz|txz|tZ|tzo|war|xpi|xz|Z|zip)$"
# export NNN_COLORS='#0d0d0d0d0d0d0d0d'
# BLK="0B" CHR="0B" DIR="0d" EXE="0a" REG="07" HARDLINK="0e" SYMLINK="0e" MISSING="08" ORPHAN="09" FIFO="03" SOCK="0B" OTHER="06"
# export NNN_FCOLORS="$BLK$CHR$DIR$EXE$REG$HARDLINK$SYMLINK$MISSING$ORPHAN$FIFO$SOCK$OTHER"
# _nc='c:-!magick convert "$nnn" png:- | xclip -sel clipboard -t image/png*'
# _nm='h:-!hx "$nnn"*;o:-fzopen;d:dragdrop;p:preview-tui'
# export NNN_PLUG="$_nc;$_nm"
# # }}}

# # }}}

# # vim: ft=sh

# load global profile
. /etc/profile

# --- ADAPTATION ALPINE : Définition des défauts XDG si non définis ---
# Alpine (ou sh/ash par défaut) ne définit pas toujours ces variables au login.
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"
# Utilisation de /tmp si XDG_RUNTIME_DIR n'est pas géré par un init system (ex: openrc/systemd)
export XDG_RUNTIME_DIR="${XDG_RUNTIME_DIR:-/tmp/runtime-$(id -u)}"
if [ ! -d "$XDG_RUNTIME_DIR" ]; then
    mkdir -m 700 -p "$XDG_RUNTIME_DIR"
fi
# ---------------------------------------------------------------------

# xdg yash loadpath
export YASH_LOADPATH="$XDG_CONFIG_HOME/yash:$YASH_LOADPATH"

# xdg support shit {{{
export INPUTRC="$XDG_CONFIG_HOME/inputrc"
# Note: Sur Alpine, assurez-vous d'avoir installé xinit si vous utilisez X11
export XINITRC="$XDG_CONFIG_HOME/X11/xinitrc"
export XSERVERRC="$XDG_CONFIG_HOME/X11/xserverrc"
export XAUTHORITY="$XDG_RUNTIME_DIR/Xauthority"
export GRADLE_USER_HOME="$XDG_DATA_HOME/gradle"
export VIMINIT="set nocp | source $XDG_CONFIG_HOME/vim/vimrc"
export WINEPREFIX="$XDG_DATA_HOME/wine"
export PASSAGE_DIR="$XDG_DATA_HOME/passage/store"
export PASSAGE_IDENTITIES_FILE="$XDG_DATA_HOME/passage/identities"
export PENTADACTYL_INIT="source $XDG_CONFIG_HOME/pentadactyl/pentadactylrc"
export PENTADACTYL_RUINTIME="$XDG_CONFIG_HOME/pentadactyl"
export GNUPGHOME="$XDG_DATA_HOME/gnupg"
export SRB2WADDIR="$XDG_DATA_HOME/srb2kart/wads"
export PYTHONSTARTUP="$XDG_CONFIG_HOME/python/pythonstartup.py"
export GOPATH="$XDG_DATA_HOME/go"
export GOMODCACHE="$XDG_CACHE_HOME/go/mod"
export SQLITE_HISTORY="$XDG_RUNTIME_DIR/sqlite_history"
export PSQL_HISTORY="$XDG_RUNTIME_DIR/psql_history"
export RXVT_SOCKET="$XDG_RUNTIME_DIR/urxvt-$(uname -n)"
# }}}

# other config {{{
export PATH="$HOME/.local/bin:$HOME/.local/scripts:$PATH"
export MANPATH="$XDG_DATA_HOME/man:$MANPATH" # Ajout de :$MANPATH pour ne pas écraser les manuels système
export EDITOR="vim"
export VISUAL="vim"
export TERMINAL="urxvtc"
export FLOATING_TERMINAL="urxvtc -name FLOATING_TERMINAL"
export QT_STYLE_OVERRIDE=kvantum
# }}}

# program options {{{

# misc {{{
# --- ADAPTATION ALPINE : Chemin standard OpenJDK ---
# Le paquet 'openjdk17' sur Alpine installe généralement ici :
export JAVA_HOME="/usr/lib/jvm/java-17-openjdk"
export LESS='-Ri'
# }}}

# fzf {{{
# Note: 'bfs' est dans le dépôt community (apk add bfs)
export FZF_DEFAULT_COMMAND='bfs -nohidden -type f -printf "%P\n"'
export FZF_DEFAULT_OPTS='
--color "fg:7,bg:-1,hl:12,fg+:11,bg+:0,hl+:13,info:9,border:0,prompt:4,pointer:10,marker:2,spinner:13,header:7"
--border -e
--bind ctrl-space:print-query+abort
'
# }}}

# nnn {{{
export NNN_OPTS="aAeQ"
export NNN_ARCHIVE="\\.(7z|a|ace|alz|arc|arj|bz|bz2|cab|cpio|deb|gz|jar|lha|lz|lzh|lzma|lzo|rar|rpm|rz|t7z|tar|tbz|tbz2|tgz|tlz|txz|tZ|tzo|war|xpi|xz|Z|zip)$"
export NNN_COLORS='#0d0d0d0d0d0d0d0d'
BLK="0B" CHR="0B" DIR="0d" EXE="0a" REG="07" HARDLINK="0e" SYMLINK="0e" MISSING="08" ORPHAN="09" FIFO="03" SOCK="0B" OTHER="06"
export NNN_FCOLORS="$BLK$CHR$DIR$EXE$REG$HARDLINK$SYMLINK$MISSING$ORPHAN$FIFO$SOCK$OTHER"
# Note: Requis 'imagemagick' (pour magick) et 'xclip'
_nc='c:-!magick convert "$nnn" png:- |
xclip -sel clipboard -t image/png*'
_nm='h:-!hx "$nnn"*;o:-fzopen;d:dragdrop;p:preview-tui'
export NNN_PLUG="$_nc;$_nm"
# }}}

# }}}

# vim: ft=sh